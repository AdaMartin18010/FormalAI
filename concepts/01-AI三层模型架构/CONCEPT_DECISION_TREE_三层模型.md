# 三层模型概念定义判断树

**创建日期**：2025-02-01  
**主题**：01-AI三层模型架构  
**目的**：通过属性检验判定"给定 AI 系统 S 的三层归属与技术选型"

---

## 一、三层模型选型判断树

```
给定 AI 系统 S，判定其主导层级与选型
│
├─ 1. 系统瓶颈是否在计算吞吐（GPU 利用率、延迟）?
│   ├─ 是 → [执行层主导] 01.1 图灵计算模型
│   │         └─ 优化：CUDA 图静态编译、算子融合、分布式
│   └─ 否 ↓
│
├─ 2. 系统瓶颈是否在意图解析、约束满足（Prompt 歧义、工具调用）?
│   ├─ 是 → [控制层主导] 01.2 形式语言模型
│   │         └─ 优化：ReAct 循环、LangGraph 状态机、约束解码
│   └─ 否 ↓
│
├─ 3. 系统瓶颈是否在泛化、幻觉、分布外（训练-推理 gap）?
│   ├─ 是 → [数据层主导] 01.3 数学概率模型
│   │         └─ 优化：RLHF、CoT、Scaling、数据质量
│   └─ 否 ↓
│
└─ 4. 多瓶颈或不确定 → [三层协同] 01.4 层间交互与冲突
            └─ 按 01.4.3 三层契约设计模式、01.4.4 跨层优化策略
```

---

## 二、传统三层 vs 神经算子选型树

```
给定应用场景，判定架构选型
│
├─ 是否需要物理场/算子映射（FNO/DeepONet 等）?
│   ├─ 是 → [神经算子架构] 见 concepts/07.5.2、07.6.2
│   │         └─ 适用： PDE 求解、气候模拟、物理仿真
│   └─ 否 ↓
│
├─ 是否以 LLM 为核心、通用语言/推理任务?
│   ├─ 是 → [传统三层架构] 01.x 执行/控制/数据层
│   │         └─ 适用：对话、代码生成、知识问答
│   └─ 否 ↓
│
└─ 混合场景 → 按 [TECHNICAL_SELECTION_DECISION_TREE](../../Philosophy/model/TECHNICAL_SELECTION_DECISION_TREE.md) 细分
```

---

## 三、层间冲突判定树

```
给定系统行为异常，判定冲突来源
│
├─ 执行层确定性 vs 数据层随机性 冲突?
│   ├─ 是 → [01.4.2 层间冲突] 控制采样 temperature、beam search
│   └─ 否 ↓
│
├─ 控制层约束 vs 数据层泛化 冲突?
│   ├─ 是 → [01.4.2] Prompt 与训练分布不一致；微调或 RLHF
│   └─ 否 ↓
│
└─ 跨层优化目标冲突? → [01.4.4 跨层优化策略] 帕累托权衡
```

---

## 四、与现有文档的关联

- [01-AI三层模型架构 README](README.md) §4 核心概念形式化定义
- [01.4-层间交互与冲突](01.4.1-三层协同机制.md) 三层协同机制
- [TECHNICAL_SELECTION_DECISION_TREE](../../Philosophy/model/TECHNICAL_SELECTION_DECISION_TREE.md) 技术选型决策树
- [PROJECT_CROSS_MODULE_MAPPING](../../PROJECT_CROSS_MODULE_MAPPING.md) docs/01-foundations、02-machine-learning 映射

---

**维护者**：FormalAI 项目组
