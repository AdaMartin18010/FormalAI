# 框架选型决策树

**创建日期**：2025-02-01  
**主题**：07-AI框架批判与重构  
**目的**：给定应用场景，判定三层 vs 神经算子 vs 双视图架构选型

---

## 一、框架选型判断树

```
给定应用场景，判定架构选型
│
├─ 1. 是否以物理场/PDE/算子映射为核心?
│   ├─ 是 → [神经算子] 07.5.2、07.6.2
│   │         └─ FNO、DeepONet、Aurora；气候/流体/多物理场
│   └─ 否 ↓
│
├─ 2. 是否以 LLM/通用语言推理为核心、需工程分层管理?
│   ├─ 是 → [传统三层 或 双视图] 01、07.6.3
│   │         └─ 三层：工具链、Prompt 工程、训练-推理解耦
│   │         └─ 双视图：人类管理投影 + 数学本质统一
│   └─ 否 ↓
│
├─ 3. 是否处于从三层到算子迁移的过渡期?
│   ├─ 是 → [渐进式迁移] 07.6.4
│   │         └─ 按 07.6.4 路线图：增量替换、接口抽象
│   └─ 否 ↓
│
└─ 4. 混合/不确定 → [双视图架构] 07.6.3
            └─ 管理视图保留三层，数学视图统一为算子
```

---

## 二、批判度触发重构判定树

```
给定系统 A，判定是否需要重构
│
├─ Crit(A) = w₁·Crit_method + w₂·Crit_arch + w₃·Crit_math + w₄·Crit_lang
│
├─ Crit(A) > 0.7?
│   ├─ 是 → [需要重构] 优先神经算子或双视图
│   └─ 否 ↓
│
├─ 是否有"致命"误判（★★★★★）?
│   ├─ 是 → [建议重构] 三层可分离、随机性=反实践、可判定性错位
│   └─ 否 → [维持三层] 可增量改进
```

---

## 三、与现有文档的关联

- [07 README](README.md) §3.2 三层模型批判形式化定义、§五 重构框架
- [07.6.3-双视图架构设计](07.6.3-双视图架构设计.md)
- [07.6.4-渐进式迁移路线图](07.6.4-渐进式迁移路线图.md)
- [01 CONCEPT_DECISION_TREE_三层模型](../01-AI三层模型架构/CONCEPT_DECISION_TREE_三层模型.md) 传统 vs 神经算子选型

---

**维护者**：FormalAI 项目组
